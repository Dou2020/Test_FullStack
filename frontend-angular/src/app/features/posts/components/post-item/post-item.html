<article class="bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden flex flex-col h-full">
  <!-- Imagen -->
  <div class="relative w-full h-48 sm:h-56 md:h-64 lg:h-72 overflow-hidden bg-gray-200">
    <img 
      [src]="post.imageUrl" 
      [alt]="post.title"
      class="w-full h-full object-cover hover:scale-105 transition-transform duration-300"
      (error)="$any($event.target).src='https://via.placeholder.com/400x300?text=No+Image'"
    />
    
    <!-- Estado de publicación -->
    <div class="absolute top-3 right-3">
      <span 
        [class]="post.published ? 'bg-green-500' : 'bg-gray-500'"
        class="px-3 py-1 rounded-full text-white text-xs sm:text-sm font-semibold shadow-lg"
      >
        {{ post.published ? 'Publicado' : 'Borrador' }}
      </span>
    </div>
  </div>

  <!-- Contenido -->
  <div class="flex flex-col flex-grow p-4 sm:p-5 md:p-6">
    <!-- Título -->
    <h2 class="text-lg sm:text-xl md:text-2xl font-bold text-gray-800 mb-2 sm:mb-3 line-clamp-2 hover:text-blue-600 transition-colors cursor-pointer"
        (click)="viewPost()">
      {{ post.title }}
    </h2>

    <!-- Autor -->
    <p class="text-sm sm:text-base text-gray-600 mb-2 sm:mb-3">
      <span class="font-semibold">Por:</span> {{ post.author }}
    </p>

    <!-- Descripción -->
    <p class="text-sm sm:text-base text-gray-700 mb-3 sm:mb-4 flex-grow line-clamp-3">
      {{ post.body }}
    </p>

    <!-- Tags -->
    <div class="flex flex-wrap gap-1.5 sm:gap-2 mb-4 sm:mb-5">
      <span 
        *ngFor="let tag of post.tags"
        class="bg-blue-100 text-blue-800 px-2 py-1 sm:px-3 sm:py-1 rounded-full text-xs sm:text-sm font-medium hover:bg-blue-200 transition-colors"
      >
        #{{ tag }}
      </span>
    </div>

    <!-- Botones de acción -->
    <div class="flex flex-col sm:flex-row gap-2 sm:gap-3 mt-auto">
      <button 
        (click)="viewPost()"
        class="flex-1 bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 sm:px-4 sm:py-2 rounded-lg text-sm sm:text-base font-medium transition-colors duration-200 shadow-sm hover:shadow-md"
      >
        Ver detalles
      </button>
      @if (isAuthenticated) {
        <button 
          (click)="editPost()"
          class="flex-1 bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-2 sm:px-4 sm:py-2 rounded-lg text-sm sm:text-base font-medium transition-colors duration-200 shadow-sm hover:shadow-md"
        >
          Editar
        </button>
        <button 
          (click)="deletePost()"
          class="flex-1 bg-red-500 hover:bg-red-600 text-white px-3 py-2 sm:px-4 sm:py-2 rounded-lg text-sm sm:text-base font-medium transition-colors duration-200 shadow-sm hover:shadow-md"
        >
          Eliminar
        </button>
      }
    </div>
  </div>
</article>
